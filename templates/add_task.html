<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>To-Do Task Manager</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <style>
  .user-greeting {
    position: absolute;
    top: 10px;
    right: 20px;
  }

  .header-buttons {
    margin-bottom: 20px;
  }

  .task-section {
    display: flex;
    justify-content: space-between;
    gap: 20px;
    padding: 0 20px;
    flex-wrap: nowrap; /* <-- Ensure side-by-side layout */
  }

  .task-column {
    flex: 1;             /* <-- Replace fixed width */
    min-width: 0;        /* <-- Prevent overflow */
    box-sizing: border-box;
  }

  .task-column h3 {
    text-align: center;
    margin-bottom: 10px;
  }

  .pending-box {
    border: 1px solid #aaa;
    background-color: #fdfdfd;
    padding: 10px;
    margin-bottom: 10px;
    cursor: pointer;
  }

  .pending-details {
    display: none;
    padding-top: 10px;
  }

  .delete-task {
    background: red;
    color: white;
    border: none;
    padding: 2px 6px;
    font-weight: bold;
    float: right;
    cursor: pointer;
  }
  </style>

</head>
<body>
  {% if logged_in_user %}
    <div class="user-greeting">
      Logged in as <strong>{{ logged_in_user }}</strong>
    </div>
  {% endif %}

  <a href="/" style="text-decoration: none;">
    <button type="button">Go back</button>
  </a>

  <div class="header-buttons">
    <h2>To-Do Task Manager</h2>
    <a href="/add_task" style="text-decoration: none;">
      <button type="button">Add New Task</button>
    </a>
  </div>

  <div class="task-section">
    <!-- Incomplete Tasks -->
    <div class="task-column" id="todo-column">
      <h3>To Do</h3>
      <!-- Filled by JS -->
    </div>

    <!-- Completed Tasks -->
    <div class="task-column" id="done-column">
      <h3>Done</h3>
      <!-- Filled by JS -->
    </div>
  </div>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='app.js') }}"></script>
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      loadTasks(); // from app.js
    });
  </script>
</body>
</html>
